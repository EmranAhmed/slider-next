<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Slider Next</title>
	<link rel="stylesheet" href="./build/style-slider.css" />
	<style>
		.container-2 {
			max-width: 400px;
			aspect-ratio: 1;
			margin: 20px auto;

			display: flex;
			flex-direction: column;

			@media (max-width: 1200px) {
				/*flex-direction: column;*/
			}

		}

		.storepress-slider > div {
			position: relative;
			height: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.storepress-slider > div:before{

			/*--unitless: calc(tan(atan2(var(--_column-size),1px)));

			content: counter(c);
			counter-reset: c var(--unitless);

			font-size: 12px;
			font-weight: bold;
			font-family: system-ui,sans-serif;*/
		}

		.slider-wrapper{
			--is-horizontal: true;
			@media (max-width: 1200px) {
				--is-horizontal: false;
			}
		}
	</style>
</head>

<body>

<div class="container-2">

	<div role="region" aria-label="Carousel" class="slider-wrapper" data-slider-settings="">

		<div class="storepress-slider-container">
			<div class="storepress-slider">
				<!--<div class="active"><img src="images/beanie.jpg" /></div>
				<div><img src="images/belt.jpg" /></div>
				<div><img src="images/cap.jpg" /></div>
				<div><img src="images/hoodie-blue-1.jpg" /></div>
				<div><img src="images/pennant-1.jpg" /></div>
				<div><img src="images/sunglasses-2.jpg" /></div>
				<div><img src="images/tshirt-2.jpg" /></div>-->


				<div class="active" style="background-color: #bbbbbb">01</div>
				<div style="background-color: #702222">02</div>
				<div style="background-color: #b051d0">03</div>
				<div style="background-color: #357c6b">04</div>
				<div style="background-color: #9b1358">05</div>
				<div style="background-color: #1a852f">06</div>
				<div style="background-color: #2b6091">07</div>
				<!--
											<div>08</div>
											<div >09</div>
											<div>10</div>
											<div>11</div>
											<div>12</div>
											<div>13</div>-->
			</div>
		</div>

		<div role="group" aria-label="Slide controls" class="storepress-slider-controls">
			<div class="storepress-slider-navigation">
				<button role="button" aria-label="Previous slide" class="storepress-slider-navigation-previous"></button>
				<button role="button" aria-label="Next slide" class="storepress-slider-navigation-next"></button>
			</div>

			<div class="storepress-slider-pagination">
				<button>1</button>
			</div>
		</div>
	</div>

</div>


<a id="prev" href="#">PREV</a>
<a id="next" href="#">NEXT</a>

--

Goto <a id="goto-one-1" href="#">Slide 1</a>
Goto <a id="goto-one-2" href="#">Slide 2</a>
Goto <a id="goto-one-3" href="#">Slide 3</a>
Goto <a id="goto-one-4" href="#">Slide 4</a>
Goto <a id="goto-one-5" href="#">Slide 5</a>
Goto <a id="goto-one-6" href="#">Slide 6</a>
Goto <a id="goto-one-7" href="#">Slide 7</a>
Goto <a id="goto-one-8" href="#">Slide 8</a>


<script type="text/javascript" src="./build/storepress-utils.js"></script>
<script type="text/javascript" src="./build/slider.js"></script>

<script type="text/javascript">


	document.getElementById('prev').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_prev', {
			element: ['[data-slider-settings]'],
			settings: {},
		})
	})

	document.getElementById('next').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_next', {
			element: ['[data-slider-settings]'],
			settings: {},
		})
	})

	document.getElementById('goto-one-1').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 1,
		})
	})

	document.getElementById('goto-one-2').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 2,
		})
	})

	document.getElementById('goto-one-3').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 3,
		})
	})

	document.getElementById('goto-one-4').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 4,
		})
	})

	document.getElementById('goto-one-5').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 5,
		})
	})

	document.getElementById('goto-one-6').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 6,
		})
	})
	document.getElementById('goto-one-7').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 7,
		})
	})

	document.getElementById('goto-one-8').addEventListener('click', () => {
		StorePress.Utils.triggerEvent(document, 'slider_goto_slider', {
			element: ['[data-slider-settings]'],
			index: 8,
		})
	})


//


/*
	const items =     ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
	const show = 3;
	let move = 3;
	const infinite = false;
	const center = false;
	const totalItems = items.length
	// const clonedItems = totalItems + ( infinite ? show * 2 : 0)
	const startIndex = infinite ? show : 0;
	const endIndex = infinite ? (totalItems + show) - 1: totalItems - show;
*/

	// {
	// 1: [0,1,2],
	// 2: [3,4,5],
	// 3: [6,7],
	// 4: [9]
	// }


	function getState(){

		const slidesToShow = 3;
		let slidesToScroll = 3;
		const infinite = false;
		 const center = false;
		const totalItems = 7
		// const clonedTotal = totalItems + ( infinite ? ((show * 2) - move) : 0)
		const startIndex = infinite ? slidesToShow : 0;
		const endIndex = infinite ? (totalItems + slidesToShow) - 1: totalItems - 1;



		let dotIndex = 1; // start  dot index from 1
		const data = {};
		const dots = [];
		const dotToIndexMap = {}
		const itemToIndexMap = {}
		const indexToDotMap = {}

		let lastIndex = 0;
		let item = 1;

		const dotsCount = infinite ? Math.ceil(totalItems / slidesToScroll) : Math.ceil((totalItems - slidesToShow) / slidesToScroll) + 1

		const totalDots = center ? totalItems : dotsCount

		//console.log(totalDots) // 3

		// @TODO: 

		const di = {}
		for (let a = 1; a <= totalDots; a++){
			di[a] = []
			for (let index = startIndex; index <= endIndex; index+=slidesToScroll) {
				// di[a].push(index)
				console.log(index, '---')
			}
		}

		console.log(di)

		return;




		for (let index = startIndex; index <= endIndex; index+=slidesToScroll) {

			//console.log(index)

			data[dotIndex] = [];
			for (let x = index; x < index + slidesToScroll; x++) {

				if( !Object.hasOwn(dotToIndexMap, dotIndex) ){
					dotToIndexMap[dotIndex] = x
				}

				if( endIndex >= x){
					data[dotIndex].push( x );
					indexToDotMap[x] = dotIndex
					lastIndex = x
					itemToIndexMap[item] = x
					item++
				}
			}
			dots.push(dotIndex)
			dotIndex++
		}

		const lastDotIndex = dots.at(-1)
		const firstDotIndex = dots.at(0)

		// for (let y = lastIndex + 1; y < clonedTotal; y++) {
			// data[lastDotIndex].push( y );
		// }

		for (let i =  1; i <= totalItems; i++) {
			if( !Object.hasOwn(itemToIndexMap, i) ){
				itemToIndexMap[i] = lastIndex
			}
		}

		return { data, dots, dotToIndexMap, itemToIndexMap, indexToDotMap, firstDotIndex, lastDotIndex};
	}

	 console.log(getState(), '--')


</script>

</body>
</html>
